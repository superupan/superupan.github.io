<html>
<head>
    <meta charset="utf-8"/>
<meta name="description" content=""/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>

<title>AI 绘画第一步，安装 Stable-Diffusion-WebUI 全过程 ! | 温故而知新</title>

<link rel="shortcut icon" href="http://localhost:4000/favicon.ico?v=1690897807402">

<link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" rel="stylesheet">
<link rel="stylesheet" href="http://localhost:4000/styles/main.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/css/bootstrap.min.css">

<script src="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets/highlight.min.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.15.10/languages/dockerfile.min.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.15.10/languages/dart.min.js"></script>

<script src="https://cdn.jsdelivr.net/npm/moment@2.27.0/moment.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/js/bootstrap.min.js"></script>
<!-- DEMO JS -->
<!--<script src="media/scripts/index.js"></script>-->



    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.css">
</head>
<body>
<div class="main gt-bg-theme-color-first">
    <nav class="navbar navbar-expand-lg">
    <div class="navbar-brand">
        <img class="user-avatar" src="/images/avatar.png" alt="头像">
        <div class="site-name gt-c-content-color-first">
            温故而知新
        </div>
    </div>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <i class="fas fa-bars gt-c-content-color-first" style="font-size: 18px"></i>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <div class="navbar-nav mr-auto" style="text-align: center">
            
                <div class="nav-item">
                    
                        <a href="/" class="menu gt-a-link">
                            首页
                        </a>
                    
                </div>
            
                <div class="nav-item">
                    
                        <a href="/archives" class="menu gt-a-link">
                            归档
                        </a>
                    
                </div>
            
                <div class="nav-item">
                    
                        <a href="/tags" class="menu gt-a-link">
                            标签
                        </a>
                    
                </div>
            
                <div class="nav-item">
                    
                        <a href="/post/about" class="menu gt-a-link">
                            关于
                        </a>
                    
                </div>
            
        </div>
        <div style="text-align: center">
            <form id="gridea-search-form" style="position: relative" data-update="1690897807402" action="/search/index.html">
                <input class="search-input" autocomplete="off" spellcheck="false" name="q" placeholder="搜索文章" />
                <i class="fas fa-search gt-c-content-color-first" style="position: absolute; top: 9px; left: 10px;"></i>
            </form>
        </div>
    </div>
</nav>

    <div class="post-container">
        <div class="post-detail gt-bg-theme-color-second">
            <article class="gt-post-content">
                <h2 class="post-title">
                    AI 绘画第一步，安装 Stable-Diffusion-WebUI 全过程 !
                </h2>
                <div class="post-info">
                    <time class="post-time gt-c-content-color-first">
                        · 2023-04-01 ·
                    </time>
                    
                        <a href="http://localhost:4000/tag/UsCITmZAh/" class="post-tags">
                            # yuque
                        </a>
                    
                </div>
                <div class="post-content">
                    <p>别玩那些小孩子的玩意儿了，大人应该玩这些 _！</p>
<figure data-type="image" tabindex="1"><img src="https://pic4.zhimg.com/v2-3b7c907fec3fb253a4f083c7f7d57cbf_r.jpg#id=Cv5uR&amp;originHeight=1305&amp;originWidth=2298&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=" alt="" loading="lazy"></figure>
<p>我是真没想到，AI 绘画已经进化到这种程度了。</p>
<p>实在是太！逼！真! 了！不上重马赛克都不敢贴图！</p>
<p>看了这些图，有没有心痒痒的？今天就来带大家入个门！先把软件搞起来。</p>
<p>这里用的软件叫 “stable-diffusion-webui” ，严格意义上来说是一个基于 Stable Diffusion 的开源项目。这个项目非常强大，把原本很难安装配置的开源项目做成了一个简单易操作的网页，后来又引入了插件系统，可以玩出很多花样。最重要的是这一切都免费且开源。</p>
<p>安装 stable-diffusion-webui 需要事先做一些准备工作。</p>
<ul>
<li>一台带中高端显卡的电脑</li>
<li>电脑可以流畅的访问 github</li>
<li>安装好代码管理工具 git</li>
<li>安装好编程语言工具 python</li>
</ul>
<p>硬件的部分不是本文的核心关注点，你只要搞一张显存大于 4G 的英伟达显卡就够了，推荐 RTX3060 这种显存比较大又比较便宜的。</p>
<figure data-type="image" tabindex="2"><img src="https://pic2.zhimg.com/v2-e82926efd1080e6286215d3408a84f01_r.jpg#id=UnRHs&amp;originHeight=1440&amp;originWidth=2560&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=" alt="" loading="lazy"></figure>
<p>我这里用的是腾讯云上 <a href="https://link.zhihu.com/?target=https%3A//www.deepfaker.xyz/%3Fp%3D2458">45 块钱的 T4 深度学习卡</a>。速度一般，显存比较大有 16G。用这个的好处是，对本地电脑几乎无要求，更重要的是可以流畅访问国际互联网，这个真的省了太多事情了。也让安装这件事情变得无比简单。</p>
<figure data-type="image" tabindex="3"><img src="https://pic1.zhimg.com/v2-51a0bd5a16d25dc4b2f996697fd7083c_r.jpg#id=GXv2k&amp;originHeight=828&amp;originWidth=1540&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=" alt="" loading="lazy"></figure>
<p>如果你是本地电脑，你需要自己使用 “魔法” 连接国际互联网。</p>
<p>硬件和网络，不再展开了，如果这一步问题比较大，可以留言！</p>
<p>下面立马开始具体的安装步骤。</p>
<ol>
<li>安装 git</li>
</ol>
<hr>
<p>GIT 是一个开源的分布式版本控制系统，其中有一个命令叫: git clone，就是高阶版 Ctrl+C 和 Ctrl+V。这个工具主要是用来优雅的搬运别人的成果。</p>
<p>软件可以通过官网 git-scm 获取，只要下载最新版就可以了。</p>
<figure data-type="image" tabindex="4"><img src="https://pic1.zhimg.com/v2-b13591380c09c4f7cace1bcf75e5e8dc_r.jpg#id=EtIke&amp;originHeight=424&amp;originWidth=805&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=" alt="" loading="lazy"></figure>
<p>获取到软件后，只要双击打开，一路下一步下一步就可以了。</p>
<figure data-type="image" tabindex="5"><img src="https://pic2.zhimg.com/v2-a83b66f96269ed9ec06bff809b3a2fe5_r.jpg#id=yiwNc&amp;originHeight=683&amp;originWidth=870&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=" alt="" loading="lazy"></figure>
<p>就是点击蓝色的 Next 按钮。</p>
<p>具体可以参考文章<a href="https://link.zhihu.com/?target=http%3A//mp.weixin.qq.com/s%3F__biz%3DMjM5NjAwNTcwMg%3D%3D%26mid%3D2257484089%26idx%3D4%26sn%3D55ca7bd1118fd5ad8403eef909e1f096%26chksm%3Da5950b1092e2820650d8f8f6d96725eff2a65c903289a6c58cd5d1377772ac111ac60f8c78bf%26scene%3D21%23wechat_redirect">《GIT 安装和使用》</a></p>
<ol start="2">
<li>安装 Python</li>
</ol>
<hr>
<h2 id=""></h2>
<p>Python 是目前非常流行的编程语言，因为被广泛地用在人工智能 -&gt; 深度学习领域，更是声名大噪。因为我们用的软件也是基于 Python 的，所以我们要安装一个 Python 的运行环境。这个安装起来也很简单。</p>
<p>访问 Python 官网，下载指定版本 3.10.6。</p>
<figure data-type="image" tabindex="6"><img src="https://pic2.zhimg.com/v2-f73ddc238483d326f61ea033b10f1275_r.jpg#id=ceYC3&amp;originHeight=351&amp;originWidth=603&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=" alt="" loading="lazy"></figure>
<p>这里千万千万不要不要乱下版本，否则会面对一连串你无法处理的问题。</p>
<p>获取软件后，双击开始安装。</p>
<figure data-type="image" tabindex="7"><img src="https://pic4.zhimg.com/v2-d434cd080f4b45b018cc1e1ceffaca07_r.jpg#id=mNgrT&amp;originHeight=1022&amp;originWidth=1669&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=" alt="" loading="lazy"></figure>
<p>安装的时候，只需要勾选 “Add Python” 然后点击 “Install Now” 就可以了。</p>
<p>安装完 GIT 和 Python 之后，我们需要验证一下是否安装成功。</p>
<figure data-type="image" tabindex="8"><img src="https://pic4.zhimg.com/v2-d1611e227e0237124263f71fc8eb362f_r.jpg#id=UByAb&amp;originHeight=839&amp;originWidth=487&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=" alt="" loading="lazy"></figure>
<p>右键点击 Windows 图标，然后点击运行。</p>
<figure data-type="image" tabindex="9"><img src="https://pic1.zhimg.com/v2-275bed3441fbf618360bb87fd13b59b0_r.jpg#id=lcX8a&amp;originHeight=734&amp;originWidth=1203&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=" alt="" loading="lazy"></figure>
<p>输入 CMD，按确定，打开命令行工具。</p>
<figure data-type="image" tabindex="10"><img src="https://pic2.zhimg.com/v2-df66c53e12327d4f503a6dac86081071_r.jpg#id=vXRi1&amp;originHeight=785&amp;originWidth=1223&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=" alt="" loading="lazy"></figure>
<p>打开后准确输入 git 三个字母，按回车！跳出一堆英文的帮助信息就是正常，如果出现 “不是内部或外部命令” 就证明安装有问题，一般不会有问题。</p>
<p>然后输入 python 按回车，之后会正确显示 Python 的版本，这里必须是 3.10.6。没有显示或者是其他版本都不行。</p>
<p>一切验证成功后，按 Ctrl+Z，然后按回车，退出 Python。</p>
<p>具体可以参考文章<a href="https://link.zhihu.com/?target=http%3A//mp.weixin.qq.com/s%3F__biz%3DMjM5NjAwNTcwMg%3D%3D%26mid%3D2257484089%26idx%3D4%26sn%3D55ca7bd1118fd5ad8403eef909e1f096%26chksm%3Da5950b1092e2820650d8f8f6d96725eff2a65c903289a6c58cd5d1377772ac111ac60f8c78bf%26scene%3D21%23wechat_redirect">《Python 安装和使用》</a></p>
<ol start="3">
<li>获取源代码</li>
</ol>
<hr>
<p>上面两个工具装完之后，就可以用 git 工具获取源代码了。</p>
<figure data-type="image" tabindex="11"><img src="https://pic1.zhimg.com/v2-5f39c70d6d32b043d6984c912364c200_r.jpg#id=Rh85H&amp;originHeight=477&amp;originWidth=1643&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=" alt="" loading="lazy"></figure>
<p>默认情况下，我们的路径是用户目录。</p>
<p>此时需要输入 “cd Desktop” 命令进入桌面。我的云电脑只有一个盘，所以准备把软件装在桌面上。如果你的电脑有多个盘，建议安装在其他盘的根目录。比如你 D 盘很大，那么输入命令 &quot;D:&quot; 按回车，就可以了。</p>
<p>然后输入克隆命令获取源代码：</p>
<pre><code>git clone https://github.com/AUTOMATIC1111/stable-diffusion-webui.git
</code></pre>
<p>输入命令后按回车，网络没问题的话，很快就能完成。完成后会出现 100% 和 done 的提示。</p>
<p>相关命令行的用法可以参考</p>
<p><a href="https://link.zhihu.com/?target=http%3A//mp.weixin.qq.com/s%3F__biz%3DMjM5NjAwNTcwMg%3D%3D%26mid%3D2257484089%26idx%3D1%26sn%3D5b0a3a4fa64b46e8e138b1ab9bd55917%26chksm%3Da5950b1092e282066396ff23d0cea09552590f45c588df5897c64cfd03e7a4c30b8ee1f738f2%26scene%3D21%23wechat_redirect">Windows 命令行工具 CMD 基础用法！</a></p>
<ol start="4">
<li>安装 SD</li>
</ol>
<hr>
<p>上面的都是准备工作，现在要开始真正的安装了。</p>
<p>上一步克隆完成之后，桌面上会多出一个文件夹。如果你上一步切换到了 D 盘，那就是在 D 盘下面。</p>
<figure data-type="image" tabindex="12"><img src="https://pic1.zhimg.com/v2-8a1cf5d03ff9aeb0d8f1da0c149df474_r.jpg#id=Hw8mn&amp;originHeight=759&amp;originWidth=1213&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=" alt="" loading="lazy"></figure>
<p>打开这个文件夹，找到一个叫 Webui-user 的文件，双击打开。</p>
<figure data-type="image" tabindex="13"><img src="https://pic4.zhimg.com/v2-111c75f6518f5e1e271e8e5eb87a54bb_r.jpg#id=nlN26&amp;originHeight=1592&amp;originWidth=933&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=" alt="" loading="lazy"></figure>
<p>注意，这里有两个同名，要选择第一个，文件类型为 bat。</p>
<p>双击之后，就会出现一个黑色的命令行窗口，安装脚本会自动安装。这个过程无需人工干预，除非是出错了。</p>
<figure data-type="image" tabindex="14"><img src="https://pic3.zhimg.com/v2-80fb5f26c188aa3baa55c1bf17811982_r.jpg#id=a6M6j&amp;originHeight=1303&amp;originWidth=1280&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=" alt="" loading="lazy"></figure>
<p>安装过程大致如上。网络通畅网速快的情况下大概只要十几分钟。如果这个步骤出现错误，只有两种可能：硬件不行或者网络不行，不用找其他问题。</p>
<figure data-type="image" tabindex="15"><img src="https://pic4.zhimg.com/v2-a992055b2ef3b4542c9fa5925440ae5b_r.jpg#id=f7j3W&amp;originHeight=1302&amp;originWidth=1274&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=" alt="" loading="lazy"></figure>
<p>安装好各种依赖包之后，会自动下载一个官方的模型，大概 4G 左右。下载完之后会自动启动本地 Web 服务，然后现在一个 127.0.0.1 的网址。</p>
<p>到这里安装就已经全部完成了。</p>
<ol start="5">
<li>生成图片</li>
</ol>
<hr>
<p>复制这个网址到浏览器上打开</p>
<figure data-type="image" tabindex="16"><img src="https://pic2.zhimg.com/v2-114e623d1ac0c66d74d5f4e2ddd871dd_r.jpg#id=lEO36&amp;originHeight=1298&amp;originWidth=2275&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=" alt="" loading="lazy"></figure>
<p>打开之后只要在 1 的地方输入描述，然后点击 2 的按钮，稍等片刻，就可以在 5 的地方看到结果了。</p>
<p>3 这个区域是魔法所在，很多高阶玩法都在这里实现。</p>
<p>4 区域是设置生成参数的。可以设置运算步数，调整长宽，生成数量，设置种子等等....</p>
<p>本文主要完整展现安装过程，不展开讲具体的参数设置。</p>
<ol start="6">
<li>扩展内容：生成更好的图片</li>
</ol>
<hr>
<p>第一次生成图片，你可能会失望，为什么别人的这么好好看，而自己的这么普通或者怪异？ 那是因为你还没有掌握技巧，还不会魔法咒语，还没有用上各种牛逼的模型。</p>
<p>接下来重点来了！！！</p>
<p>开头提供的效果图就是来自 civitai 这个网站。</p>
<figure data-type="image" tabindex="17"><img src="https://pic4.zhimg.com/v2-6c088793a546a2d6e7e1af6ddc572a83_r.jpg#id=rRdhP&amp;originHeight=1095&amp;originWidth=2560&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=" alt="" loading="lazy"></figure>
<p>这个网站相当牛，如果说 webui 是让软件变得简单了，那么 Civitai 是把效果拉满了。就冲我给你这个网站，你也应该点 10 个赞，哈哈。</p>
<p>网站上有模型和示例，还有生成参数。非常贴心！</p>
<p>还有另外一个网站，以前收藏的，效果也不错。你可以根据效果图片，照抄上面的关键词。</p>
<figure data-type="image" tabindex="18"><img src="https://pic2.zhimg.com/v2-10902534c4fa08d69b3cf49cb860a095_r.jpg#id=f0rQv&amp;originHeight=1308&amp;originWidth=2131&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=" alt="" loading="lazy"></figure>
<p>今天就先入个门，如何使用这些模型参数，甚至说如何训练自己的模型，自己的风格，就看后续吧，希望你们不散，我不鸽。</p>

                </div>
            </article>
        </div>

        
            <div class="next-post">
                <div class="next gt-c-content-color-first">下一篇</div>
                <a href="http://localhost:4000/post/Gridea 同步失败？谈谈我的解决办法 - Sonatta_ 生活小栈/" class="post-title gt-a-link">
                    Gridea 同步失败？谈谈我的解决办法
                </a>
            </div>
        

        

        

        

        <div class="site-footer gt-c-content-color-first">
    <div class="slogan gt-c-content-color-first"></div>
    <div class="social-container">
        
            
        
            
        
            
        
            
        
            
        
            
        
    </div>
    <div class="footer-info">
        
    </div>
    <div>
        Theme by <a href="https://imhanjie.com/" target="_blank">imhanjie</a>, Powered by <a
                href="https://github.com/getgridea/gridea" target="_blank">Gridea | <a href="http://localhost:4000/atom.xml" target="_blank">RSS</a></a>
    </div>
</div>

<script>
  hljs.initHighlightingOnLoad()
</script>

    </div>
</div>
</body>
</html>
